import{d as B,Y as R,X as U,r as _,y as w,z as I,B as b,$ as A,Z as D,m,b as a,w as o,ag as N,ah as z,o as l,j as h,a as L,i as n,h as i,ai as S,e as T,f as v,_ as $}from"./index-0aa53c24.js";const j={id:"profileImage"},E=["src"],F=B({__name:"ProfilePicture",emits:["photo-change"],setup(H,{emit:g}){const P=R(),y=U(),d=g,p=z(),c=_(null),k=w(),{temporaryProfilePicture:C}=I(k),f=_(null);b(()=>{var t;const r=(t=y.currentUser)==null?void 0:t.uid;if(!r)return;const e=A(P,"users",r);D(e).then(u=>{if(u.exists()){const s=u.data();c.value=s.profilePictureURL??null}})});function V(){p.push({name:"PhotoCapture"}),d("photo-change",{})}function x(r){const e=r.target.files;if(e&&e.length>0){d("photo-change",{});const t=new FileReader;t.onload=u=>{const s=u.target.result;C.value=s,p.push({name:"PhotoCropper"})},t.readAsDataURL(e[0])}}return(r,e)=>(l(),m("div",null,[a(N,null,{default:o(({hover:t})=>[h("div",j,[c.value?(l(),m("img",{key:0,width:"128",src:c.value},null,8,E)):(l(),L(i,{key:1,color:t?"primary":"secondary",size:"128"},{default:o(()=>[n("mdi-account ")],void 0,!0),_:2},1032,["color"])),a(S,{absolute:"",value:t},{default:o(()=>[a(T,null,{default:o(()=>[a(v,{cols:"auto"},{default:o(()=>[a(i,{onClick:V},{default:o(()=>[n(" mdi-camera")],void 0,!0),_:1})],void 0,!0),_:1}),a(v,{cols:"auto"},{default:o(()=>[a(i,{onClick:e[0]||(e[0]=u=>{var s;return(s=f.value)==null?void 0:s.click()})},{default:o(()=>[n(" mdi-upload")],void 0,!0),_:1}),h("input",{ref_key:"imageUpload",ref:f,type:"file",accept:"image/*",onChange:x},null,544)],void 0,!0),_:1})],void 0,!0),_:1})],void 0,!0),_:2},1032,["value"])])]),_:1})]))}});const O=$(F,[["__scopeId","data-v-db31c2c0"]]);export{O as default};
